{"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src/index.ts":{"path":"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src/index.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":31}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":39}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":39}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":31}},"6":{"start":{"line":16,"column":24},"end":{"line":16,"column":328}},"7":{"start":{"line":16,"column":99},"end":{"line":16,"column":154}},"8":{"start":{"line":16,"column":133},"end":{"line":16,"column":151}},"9":{"start":{"line":16,"column":164},"end":{"line":16,"column":326}},"10":{"start":{"line":16,"column":198},"end":{"line":16,"column":323}},"11":{"start":{"line":16,"column":329},"end":{"line":16,"column":349}},"12":{"start":{"line":18,"column":34},"end":{"line":18,"column":117}},"13":{"start":{"line":20,"column":30},"end":{"line":20,"column":106}},"14":{"start":{"line":22,"column":41},"end":{"line":22,"column":155}},"15":{"start":{"line":22,"column":146},"end":{"line":22,"column":153}},"16":{"start":{"line":22,"column":167},"end":{"line":22,"column":169}},"17":{"start":{"line":22,"column":180},"end":{"line":22,"column":184}},"18":{"start":{"line":22,"column":195},"end":{"line":22,"column":200}},"19":{"start":{"line":22,"column":211},"end":{"line":22,"column":220}},"20":{"start":{"line":22,"column":222},"end":{"line":22,"column":509}},"21":{"start":{"line":22,"column":228},"end":{"line":22,"column":371}},"22":{"start":{"line":22,"column":242},"end":{"line":22,"column":264}},"23":{"start":{"line":22,"column":314},"end":{"line":22,"column":334}},"24":{"start":{"line":22,"column":335},"end":{"line":22,"column":369}},"25":{"start":{"line":22,"column":363},"end":{"line":22,"column":369}},"26":{"start":{"line":22,"column":388},"end":{"line":22,"column":398}},"27":{"start":{"line":22,"column":399},"end":{"line":22,"column":408}},"28":{"start":{"line":22,"column":421},"end":{"line":22,"column":507}},"29":{"start":{"line":22,"column":427},"end":{"line":22,"column":475}},"30":{"start":{"line":22,"column":460},"end":{"line":22,"column":475}},"31":{"start":{"line":22,"column":488},"end":{"line":22,"column":505}},"32":{"start":{"line":22,"column":496},"end":{"line":22,"column":505}},"33":{"start":{"line":22,"column":510},"end":{"line":22,"column":522}},"34":{"start":{"line":24,"column":32},"end":{"line":24,"column":67}},"35":{"start":{"line":24,"column":56},"end":{"line":24,"column":67}},"36":{"start":{"line":26,"column":50},"end":{"line":26,"column":151}},"37":{"start":{"line":26,"column":92},"end":{"line":26,"column":149}},"38":{"start":{"line":28,"column":44},"end":{"line":28,"column":315}},"39":{"start":{"line":28,"column":57},"end":{"line":28,"column":58}},"40":{"start":{"line":28,"column":102},"end":{"line":28,"column":110}},"41":{"start":{"line":28,"column":112},"end":{"line":28,"column":167}},"42":{"start":{"line":28,"column":168},"end":{"line":28,"column":199}},"43":{"start":{"line":28,"column":200},"end":{"line":28,"column":254}},"44":{"start":{"line":28,"column":227},"end":{"line":28,"column":254}},"45":{"start":{"line":28,"column":255},"end":{"line":28,"column":313}},"46":{"start":{"line":30,"column":62},"end":{"line":30,"column":131}},"47":{"start":{"line":30,"column":78},"end":{"line":30,"column":131}},"48":{"start":{"line":30,"column":132},"end":{"line":30,"column":193}},"49":{"start":{"line":30,"column":149},"end":{"line":30,"column":193}},"50":{"start":{"line":30,"column":194},"end":{"line":30,"column":213}},"51":{"start":{"line":32,"column":44},"end":{"line":32,"column":195}},"52":{"start":{"line":32,"column":62},"end":{"line":32,"column":166}},"53":{"start":{"line":32,"column":176},"end":{"line":32,"column":193}},"54":{"start":{"line":32,"column":196},"end":{"line":32,"column":207}},"55":{"start":{"line":34,"column":77},"end":{"line":34,"column":175}},"56":{"start":{"line":34,"column":94},"end":{"line":34,"column":107}},"57":{"start":{"line":34,"column":121},"end":{"line":34,"column":131}},"58":{"start":{"line":34,"column":151},"end":{"line":34,"column":165}},"59":{"start":{"line":34,"column":166},"end":{"line":34,"column":173}},"60":{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},"61":{"start":{"line":34,"column":193},"end":{"line":34,"column":208}},"62":{"start":{"line":34,"column":218},"end":{"line":34,"column":261}},"63":{"start":{"line":36,"column":33},"end":{"line":36,"column":387}},"64":{"start":{"line":36,"column":65},"end":{"line":36,"column":69}},"65":{"start":{"line":36,"column":78},"end":{"line":36,"column":87}},"66":{"start":{"line":36,"column":89},"end":{"line":36,"column":384}},"67":{"start":{"line":36,"column":147},"end":{"line":36,"column":167}},"68":{"start":{"line":36,"column":193},"end":{"line":36,"column":264}},"69":{"start":{"line":36,"column":290},"end":{"line":36,"column":360}},"70":{"start":{"line":36,"column":363},"end":{"line":36,"column":380}},"71":{"start":{"line":38,"column":10},"end":{"line":38,"column":14}},"72":{"start":{"line":39,"column":10},"end":{"line":45,"column":1}},"73":{"start":{"line":46,"column":17},"end":{"line":58,"column":1}},"74":{"start":{"line":59,"column":0},"end":{"line":59,"column":32}},"75":{"start":{"line":62,"column":2},"end":{"line":62,"column":71}},"76":{"start":{"line":72,"column":2},"end":{"line":72,"column":153}},"77":{"start":{"line":76,"column":2},"end":{"line":76,"column":54}},"78":{"start":{"line":80,"column":2},"end":{"line":99,"column":5}},"79":{"start":{"line":81,"column":4},"end":{"line":98,"column":5}},"80":{"start":{"line":82,"column":6},"end":{"line":82,"column":24}},"81":{"start":{"line":84,"column":6},"end":{"line":87,"column":7}},"82":{"start":{"line":86,"column":8},"end":{"line":86,"column":26}},"83":{"start":{"line":89,"column":6},"end":{"line":95,"column":7}},"84":{"start":{"line":90,"column":8},"end":{"line":90,"column":57}},"85":{"start":{"line":91,"column":13},"end":{"line":95,"column":7}},"86":{"start":{"line":92,"column":8},"end":{"line":92,"column":121}},"87":{"start":{"line":93,"column":13},"end":{"line":95,"column":7}},"88":{"start":{"line":94,"column":8},"end":{"line":94,"column":107}},"89":{"start":{"line":97,"column":6},"end":{"line":97,"column":14}},"90":{"start":{"line":100,"column":2},"end":{"line":100,"column":54}},"91":{"start":{"line":105,"column":0},"end":{"line":110,"column":24}},"92":{"start":{"line":106,"column":2},"end":{"line":106,"column":34}},"93":{"start":{"line":107,"column":2},"end":{"line":107,"column":36}},"94":{"start":{"line":108,"column":2},"end":{"line":108,"column":38}},"95":{"start":{"line":109,"column":2},"end":{"line":109,"column":38}},"96":{"start":{"line":112,"column":21},"end":{"line":112,"column":202}},"97":{"start":{"line":116,"column":0},"end":{"line":353,"column":3}},"98":{"start":{"line":118,"column":22},"end":{"line":118,"column":97}},"99":{"start":{"line":120,"column":4},"end":{"line":120,"column":42}},"100":{"start":{"line":122,"column":4},"end":{"line":122,"column":47}},"101":{"start":{"line":124,"column":4},"end":{"line":124,"column":49}},"102":{"start":{"line":126,"column":4},"end":{"line":126,"column":31}},"103":{"start":{"line":127,"column":18},"end":{"line":127,"column":73}},"104":{"start":{"line":128,"column":4},"end":{"line":128,"column":69}},"105":{"start":{"line":135,"column":2},"end":{"line":350,"column":6}},"106":{"start":{"line":138,"column":24},"end":{"line":153,"column":8}},"107":{"start":{"line":139,"column":20},"end":{"line":139,"column":24}},"108":{"start":{"line":141,"column":23},"end":{"line":143,"column":10}},"109":{"start":{"line":142,"column":10},"end":{"line":142,"column":72}},"110":{"start":{"line":145,"column":24},"end":{"line":145,"column":51}},"111":{"start":{"line":146,"column":20},"end":{"line":146,"column":32}},"112":{"start":{"line":147,"column":20},"end":{"line":147,"column":32}},"113":{"start":{"line":149,"column":8},"end":{"line":152,"column":10}},"114":{"start":{"line":156,"column":8},"end":{"line":156,"column":50}},"115":{"start":{"line":159,"column":6},"end":{"line":159,"column":24}},"116":{"start":{"line":168,"column":28},"end":{"line":175,"column":8}},"117":{"start":{"line":169,"column":21},"end":{"line":169,"column":25}},"118":{"start":{"line":171,"column":8},"end":{"line":173,"column":11}},"119":{"start":{"line":172,"column":10},"end":{"line":172,"column":77}},"120":{"start":{"line":174,"column":8},"end":{"line":174,"column":15}},"121":{"start":{"line":178,"column":8},"end":{"line":178,"column":54}},"122":{"start":{"line":181,"column":6},"end":{"line":181,"column":28}},"123":{"start":{"line":191,"column":30},"end":{"line":205,"column":8}},"124":{"start":{"line":192,"column":21},"end":{"line":192,"column":25}},"125":{"start":{"line":194,"column":19},"end":{"line":194,"column":49}},"126":{"start":{"line":195,"column":23},"end":{"line":197,"column":10}},"127":{"start":{"line":196,"column":10},"end":{"line":196,"column":82}},"128":{"start":{"line":199,"column":23},"end":{"line":199,"column":58}},"129":{"start":{"line":200,"column":24},"end":{"line":200,"column":51}},"130":{"start":{"line":201,"column":21},"end":{"line":201,"column":33}},"131":{"start":{"line":203,"column":8},"end":{"line":203,"column":55}},"132":{"start":{"line":204,"column":8},"end":{"line":204,"column":32}},"133":{"start":{"line":208,"column":8},"end":{"line":208,"column":56}},"134":{"start":{"line":211,"column":6},"end":{"line":211,"column":30}},"135":{"start":{"line":220,"column":25},"end":{"line":242,"column":8}},"136":{"start":{"line":221,"column":21},"end":{"line":221,"column":25}},"137":{"start":{"line":223,"column":27},"end":{"line":223,"column":100}},"138":{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},"139":{"start":{"line":226,"column":10},"end":{"line":226,"column":72}},"140":{"start":{"line":229,"column":23},"end":{"line":231,"column":10}},"141":{"start":{"line":230,"column":10},"end":{"line":230,"column":98}},"142":{"start":{"line":233,"column":24},"end":{"line":233,"column":85}},"143":{"start":{"line":234,"column":24},"end":{"line":234,"column":52}},"144":{"start":{"line":235,"column":19},"end":{"line":235,"column":31}},"145":{"start":{"line":236,"column":24},"end":{"line":236,"column":36}},"146":{"start":{"line":238,"column":8},"end":{"line":241,"column":10}},"147":{"start":{"line":245,"column":8},"end":{"line":245,"column":51}},"148":{"start":{"line":248,"column":6},"end":{"line":248,"column":25}},"149":{"start":{"line":253,"column":31},"end":{"line":299,"column":8}},"150":{"start":{"line":254,"column":21},"end":{"line":254,"column":25}},"151":{"start":{"line":256,"column":24},"end":{"line":256,"column":95}},"152":{"start":{"line":257,"column":35},"end":{"line":257,"column":41}},"153":{"start":{"line":261,"column":20},"end":{"line":290,"column":9}},"154":{"start":{"line":262,"column":25},"end":{"line":262,"column":66}},"155":{"start":{"line":263,"column":26},"end":{"line":263,"column":54}},"156":{"start":{"line":264,"column":21},"end":{"line":264,"column":30}},"157":{"start":{"line":266,"column":10},"end":{"line":268,"column":11}},"158":{"start":{"line":267,"column":12},"end":{"line":267,"column":31}},"159":{"start":{"line":270,"column":10},"end":{"line":272,"column":11}},"160":{"start":{"line":271,"column":12},"end":{"line":271,"column":32}},"161":{"start":{"line":276,"column":25},"end":{"line":278,"column":12}},"162":{"start":{"line":277,"column":12},"end":{"line":277,"column":82}},"163":{"start":{"line":280,"column":10},"end":{"line":289,"column":11}},"164":{"start":{"line":281,"column":28},"end":{"line":281,"column":89}},"165":{"start":{"line":282,"column":28},"end":{"line":282,"column":56}},"166":{"start":{"line":283,"column":23},"end":{"line":283,"column":35}},"167":{"start":{"line":284,"column":28},"end":{"line":284,"column":40}},"168":{"start":{"line":286,"column":12},"end":{"line":288,"column":14}},"169":{"start":{"line":292,"column":8},"end":{"line":296,"column":9}},"170":{"start":{"line":292,"column":26},"end":{"line":292,"column":27}},"171":{"start":{"line":293,"column":21},"end":{"line":293,"column":41}},"172":{"start":{"line":295,"column":10},"end":{"line":295,"column":56}},"173":{"start":{"line":295,"column":42},"end":{"line":295,"column":56}},"174":{"start":{"line":298,"column":8},"end":{"line":298,"column":91}},"175":{"start":{"line":302,"column":8},"end":{"line":302,"column":57}},"176":{"start":{"line":305,"column":6},"end":{"line":305,"column":31}},"177":{"start":{"line":314,"column":29},"end":{"line":342,"column":8}},"178":{"start":{"line":315,"column":8},"end":{"line":317,"column":9}},"179":{"start":{"line":316,"column":10},"end":{"line":316,"column":34}},"180":{"start":{"line":319,"column":8},"end":{"line":321,"column":9}},"181":{"start":{"line":320,"column":10},"end":{"line":320,"column":80}},"182":{"start":{"line":323,"column":21},"end":{"line":323,"column":42}},"183":{"start":{"line":325,"column":25},"end":{"line":325,"column":70}},"184":{"start":{"line":327,"column":29},"end":{"line":327,"column":76}},"185":{"start":{"line":329,"column":19},"end":{"line":329,"column":70}},"186":{"start":{"line":331,"column":24},"end":{"line":331,"column":27}},"187":{"start":{"line":333,"column":19},"end":{"line":333,"column":64}},"188":{"start":{"line":334,"column":20},"end":{"line":334,"column":43}},"189":{"start":{"line":335,"column":19},"end":{"line":335,"column":27}},"190":{"start":{"line":336,"column":24},"end":{"line":336,"column":32}},"191":{"start":{"line":338,"column":8},"end":{"line":341,"column":10}},"192":{"start":{"line":345,"column":8},"end":{"line":345,"column":55}},"193":{"start":{"line":348,"column":6},"end":{"line":348,"column":29}},"194":{"start":{"line":352,"column":2},"end":{"line":352,"column":24}},"195":{"start":{"line":355,"column":0},"end":{"line":355,"column":36}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":16}},"loc":{"start":{"line":16,"column":22},"end":{"line":16,"column":351}},"line":16},"1":{"name":"_typeof","decl":{"start":{"line":16,"column":118},"end":{"line":16,"column":125}},"loc":{"start":{"line":16,"column":131},"end":{"line":16,"column":153}},"line":16},"2":{"name":"_typeof","decl":{"start":{"line":16,"column":183},"end":{"line":16,"column":190}},"loc":{"start":{"line":16,"column":196},"end":{"line":16,"column":325}},"line":16},"3":{"name":"_slicedToArray","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":32},"end":{"line":18,"column":119}},"line":18},"4":{"name":"_nonIterableRest","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":25}},"loc":{"start":{"line":20,"column":28},"end":{"line":20,"column":108}},"line":20},"5":{"name":"_iterableToArrayLimit","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":30}},"loc":{"start":{"line":22,"column":39},"end":{"line":22,"column":524}},"line":22},"6":{"name":"_arrayWithHoles","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":24}},"loc":{"start":{"line":24,"column":30},"end":{"line":24,"column":69}},"line":24},"7":{"name":"_classCallCheck","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":24}},"loc":{"start":{"line":26,"column":48},"end":{"line":26,"column":153}},"line":26},"8":{"name":"_defineProperties","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":42},"end":{"line":28,"column":317}},"line":28},"9":{"name":"_createClass","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":60},"end":{"line":30,"column":215}},"line":30},"10":{"name":"_defineProperty","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":24}},"loc":{"start":{"line":32,"column":42},"end":{"line":32,"column":209}},"line":32},"11":{"name":"asyncGeneratorStep","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":27}},"loc":{"start":{"line":34,"column":75},"end":{"line":34,"column":265}},"line":34},"12":{"name":"_asyncToGenerator","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":26}},"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":389}},"line":36},"13":{"name":"(anonymous_13)","decl":{"start":{"line":36,"column":40},"end":{"line":36,"column":41}},"loc":{"start":{"line":36,"column":52},"end":{"line":36,"column":386}},"line":36},"14":{"name":"(anonymous_14)","decl":{"start":{"line":36,"column":108},"end":{"line":36,"column":109}},"loc":{"start":{"line":36,"column":135},"end":{"line":36,"column":382}},"line":36},"15":{"name":"_next","decl":{"start":{"line":36,"column":178},"end":{"line":36,"column":183}},"loc":{"start":{"line":36,"column":191},"end":{"line":36,"column":266}},"line":36},"16":{"name":"_throw","decl":{"start":{"line":36,"column":276},"end":{"line":36,"column":282}},"loc":{"start":{"line":36,"column":288},"end":{"line":36,"column":362}},"line":36},"17":{"name":"isErrorRange","decl":{"start":{"line":61,"column":9},"end":{"line":61,"column":21}},"loc":{"start":{"line":61,"column":36},"end":{"line":63,"column":1}},"line":61},"18":{"name":"errorRangeMessage","decl":{"start":{"line":71,"column":9},"end":{"line":71,"column":26}},"loc":{"start":{"line":71,"column":50},"end":{"line":73,"column":1}},"line":71},"19":{"name":"wrapRetryStillInCall","decl":{"start":{"line":75,"column":9},"end":{"line":75,"column":29}},"loc":{"start":{"line":75,"column":34},"end":{"line":77,"column":1}},"line":75},"20":{"name":"_wrapRetryStillInCall","decl":{"start":{"line":79,"column":9},"end":{"line":79,"column":30}},"loc":{"start":{"line":79,"column":33},"end":{"line":101,"column":1}},"line":79},"21":{"name":"(anonymous_21)","decl":{"start":{"line":80,"column":44},"end":{"line":80,"column":45}},"loc":{"start":{"line":80,"column":59},"end":{"line":99,"column":3}},"line":80},"22":{"name":"(anonymous_22)","decl":{"start":{"line":105,"column":1},"end":{"line":105,"column":2}},"loc":{"start":{"line":105,"column":17},"end":{"line":110,"column":1}},"line":105},"23":{"name":"(anonymous_23)","decl":{"start":{"line":116,"column":0},"end":{"line":116,"column":1}},"loc":{"start":{"line":116,"column":12},"end":{"line":353,"column":1}},"line":116},"24":{"name":"LedgerAppAergo","decl":{"start":{"line":117,"column":11},"end":{"line":117,"column":25}},"loc":{"start":{"line":117,"column":37},"end":{"line":129,"column":3}},"line":117},"25":{"name":"(anonymous_25)","decl":{"start":{"line":137,"column":11},"end":{"line":137,"column":12}},"loc":{"start":{"line":137,"column":23},"end":{"line":160,"column":5}},"line":137},"26":{"name":"(anonymous_26)","decl":{"start":{"line":138,"column":42},"end":{"line":138,"column":43}},"loc":{"start":{"line":138,"column":55},"end":{"line":153,"column":7}},"line":138},"27":{"name":"(anonymous_27)","decl":{"start":{"line":141,"column":50},"end":{"line":141,"column":51}},"loc":{"start":{"line":141,"column":62},"end":{"line":143,"column":9}},"line":141},"28":{"name":"getVersion","decl":{"start":{"line":155,"column":15},"end":{"line":155,"column":25}},"loc":{"start":{"line":155,"column":28},"end":{"line":157,"column":7}},"line":155},"29":{"name":"(anonymous_29)","decl":{"start":{"line":167,"column":11},"end":{"line":167,"column":12}},"loc":{"start":{"line":167,"column":23},"end":{"line":182,"column":5}},"line":167},"30":{"name":"(anonymous_30)","decl":{"start":{"line":168,"column":46},"end":{"line":168,"column":47}},"loc":{"start":{"line":168,"column":59},"end":{"line":175,"column":7}},"line":168},"31":{"name":"(anonymous_31)","decl":{"start":{"line":171,"column":35},"end":{"line":171,"column":36}},"loc":{"start":{"line":171,"column":47},"end":{"line":173,"column":9}},"line":171},"32":{"name":"displayAccount","decl":{"start":{"line":177,"column":15},"end":{"line":177,"column":29}},"loc":{"start":{"line":177,"column":32},"end":{"line":179,"column":7}},"line":177},"33":{"name":"(anonymous_33)","decl":{"start":{"line":190,"column":11},"end":{"line":190,"column":12}},"loc":{"start":{"line":190,"column":23},"end":{"line":212,"column":5}},"line":190},"34":{"name":"(anonymous_34)","decl":{"start":{"line":191,"column":48},"end":{"line":191,"column":49}},"loc":{"start":{"line":191,"column":65},"end":{"line":205,"column":7}},"line":191},"35":{"name":"(anonymous_35)","decl":{"start":{"line":195,"column":50},"end":{"line":195,"column":51}},"loc":{"start":{"line":195,"column":62},"end":{"line":197,"column":9}},"line":195},"36":{"name":"getWalletAddress","decl":{"start":{"line":207,"column":15},"end":{"line":207,"column":31}},"loc":{"start":{"line":207,"column":37},"end":{"line":209,"column":7}},"line":207},"37":{"name":"(anonymous_37)","decl":{"start":{"line":219,"column":11},"end":{"line":219,"column":12}},"loc":{"start":{"line":219,"column":23},"end":{"line":249,"column":5}},"line":219},"38":{"name":"(anonymous_38)","decl":{"start":{"line":220,"column":43},"end":{"line":220,"column":44}},"loc":{"start":{"line":220,"column":60},"end":{"line":242,"column":7}},"line":220},"39":{"name":"(anonymous_39)","decl":{"start":{"line":229,"column":50},"end":{"line":229,"column":51}},"loc":{"start":{"line":229,"column":62},"end":{"line":231,"column":9}},"line":229},"40":{"name":"signMessage","decl":{"start":{"line":244,"column":15},"end":{"line":244,"column":26}},"loc":{"start":{"line":244,"column":32},"end":{"line":246,"column":7}},"line":244},"41":{"name":"(anonymous_41)","decl":{"start":{"line":252,"column":11},"end":{"line":252,"column":12}},"loc":{"start":{"line":252,"column":23},"end":{"line":306,"column":5}},"line":252},"42":{"name":"(anonymous_42)","decl":{"start":{"line":253,"column":49},"end":{"line":253,"column":50}},"loc":{"start":{"line":253,"column":66},"end":{"line":299,"column":7}},"line":253},"43":{"name":"_loop","decl":{"start":{"line":261,"column":30},"end":{"line":261,"column":35}},"loc":{"start":{"line":261,"column":44},"end":{"line":290,"column":9}},"line":261},"44":{"name":"(anonymous_44)","decl":{"start":{"line":276,"column":52},"end":{"line":276,"column":53}},"loc":{"start":{"line":276,"column":64},"end":{"line":278,"column":11}},"line":276},"45":{"name":"sendChunkedTxData","decl":{"start":{"line":301,"column":15},"end":{"line":301,"column":32}},"loc":{"start":{"line":301,"column":38},"end":{"line":303,"column":7}},"line":301},"46":{"name":"(anonymous_46)","decl":{"start":{"line":313,"column":11},"end":{"line":313,"column":12}},"loc":{"start":{"line":313,"column":23},"end":{"line":349,"column":5}},"line":313},"47":{"name":"(anonymous_47)","decl":{"start":{"line":314,"column":47},"end":{"line":314,"column":48}},"loc":{"start":{"line":314,"column":62},"end":{"line":342,"column":7}},"line":314},"48":{"name":"signTransaction","decl":{"start":{"line":344,"column":15},"end":{"line":344,"column":30}},"loc":{"start":{"line":344,"column":36},"end":{"line":346,"column":7}},"line":344}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":328}},"type":"if","locations":[{"start":{"line":16,"column":24},"end":{"line":16,"column":328}},{"start":{"line":16,"column":24},"end":{"line":16,"column":328}}],"line":16},"1":{"loc":{"start":{"line":16,"column":28},"end":{"line":16,"column":95}},"type":"binary-expr","locations":[{"start":{"line":16,"column":28},"end":{"line":16,"column":56}},{"start":{"line":16,"column":60},"end":{"line":16,"column":95}}],"line":16},"2":{"loc":{"start":{"line":16,"column":205},"end":{"line":16,"column":322}},"type":"cond-expr","locations":[{"start":{"line":16,"column":301},"end":{"line":16,"column":309}},{"start":{"line":16,"column":312},"end":{"line":16,"column":322}}],"line":16},"3":{"loc":{"start":{"line":16,"column":205},"end":{"line":16,"column":298}},"type":"binary-expr","locations":[{"start":{"line":16,"column":205},"end":{"line":16,"column":208}},{"start":{"line":16,"column":212},"end":{"line":16,"column":240}},{"start":{"line":16,"column":244},"end":{"line":16,"column":270}},{"start":{"line":16,"column":274},"end":{"line":16,"column":298}}],"line":16},"4":{"loc":{"start":{"line":18,"column":41},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":41},"end":{"line":18,"column":61}},{"start":{"line":18,"column":65},"end":{"line":18,"column":94}},{"start":{"line":18,"column":98},"end":{"line":18,"column":116}}],"line":18},"5":{"loc":{"start":{"line":22,"column":41},"end":{"line":22,"column":155}},"type":"if","locations":[{"start":{"line":22,"column":41},"end":{"line":22,"column":155}},{"start":{"line":22,"column":41},"end":{"line":22,"column":155}}],"line":22},"6":{"loc":{"start":{"line":22,"column":47},"end":{"line":22,"column":141}},"type":"binary-expr","locations":[{"start":{"line":22,"column":47},"end":{"line":22,"column":77}},{"start":{"line":22,"column":81},"end":{"line":22,"column":141}}],"line":22},"7":{"loc":{"start":{"line":22,"column":335},"end":{"line":22,"column":369}},"type":"if","locations":[{"start":{"line":22,"column":335},"end":{"line":22,"column":369}},{"start":{"line":22,"column":335},"end":{"line":22,"column":369}}],"line":22},"8":{"loc":{"start":{"line":22,"column":339},"end":{"line":22,"column":361}},"type":"binary-expr","locations":[{"start":{"line":22,"column":339},"end":{"line":22,"column":340}},{"start":{"line":22,"column":344},"end":{"line":22,"column":361}}],"line":22},"9":{"loc":{"start":{"line":22,"column":427},"end":{"line":22,"column":475}},"type":"if","locations":[{"start":{"line":22,"column":427},"end":{"line":22,"column":475}},{"start":{"line":22,"column":427},"end":{"line":22,"column":475}}],"line":22},"10":{"loc":{"start":{"line":22,"column":431},"end":{"line":22,"column":458}},"type":"binary-expr","locations":[{"start":{"line":22,"column":431},"end":{"line":22,"column":434}},{"start":{"line":22,"column":438},"end":{"line":22,"column":458}}],"line":22},"11":{"loc":{"start":{"line":22,"column":488},"end":{"line":22,"column":505}},"type":"if","locations":[{"start":{"line":22,"column":488},"end":{"line":22,"column":505}},{"start":{"line":22,"column":488},"end":{"line":22,"column":505}}],"line":22},"12":{"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":67}},"type":"if","locations":[{"start":{"line":24,"column":32},"end":{"line":24,"column":67}},{"start":{"line":24,"column":32},"end":{"line":24,"column":67}}],"line":24},"13":{"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":151}},"type":"if","locations":[{"start":{"line":26,"column":50},"end":{"line":26,"column":151}},{"start":{"line":26,"column":50},"end":{"line":26,"column":151}}],"line":26},"14":{"loc":{"start":{"line":28,"column":136},"end":{"line":28,"column":166}},"type":"binary-expr","locations":[{"start":{"line":28,"column":136},"end":{"line":28,"column":157}},{"start":{"line":28,"column":161},"end":{"line":28,"column":166}}],"line":28},"15":{"loc":{"start":{"line":28,"column":200},"end":{"line":28,"column":254}},"type":"if","locations":[{"start":{"line":28,"column":200},"end":{"line":28,"column":254}},{"start":{"line":28,"column":200},"end":{"line":28,"column":254}}],"line":28},"16":{"loc":{"start":{"line":30,"column":62},"end":{"line":30,"column":131}},"type":"if","locations":[{"start":{"line":30,"column":62},"end":{"line":30,"column":131}},{"start":{"line":30,"column":62},"end":{"line":30,"column":131}}],"line":30},"17":{"loc":{"start":{"line":30,"column":132},"end":{"line":30,"column":193}},"type":"if","locations":[{"start":{"line":30,"column":132},"end":{"line":30,"column":193}},{"start":{"line":30,"column":132},"end":{"line":30,"column":193}}],"line":30},"18":{"loc":{"start":{"line":32,"column":44},"end":{"line":32,"column":195}},"type":"if","locations":[{"start":{"line":32,"column":44},"end":{"line":32,"column":195}},{"start":{"line":32,"column":44},"end":{"line":32,"column":195}}],"line":32},"19":{"loc":{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},"type":"if","locations":[{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},{"start":{"line":34,"column":176},"end":{"line":34,"column":263}}],"line":34},"20":{"loc":{"start":{"line":62,"column":9},"end":{"line":62,"column":70}},"type":"binary-expr","locations":[{"start":{"line":62,"column":9},"end":{"line":62,"column":10}},{"start":{"line":62,"column":14},"end":{"line":62,"column":26}},{"start":{"line":62,"column":30},"end":{"line":62,"column":70}}],"line":62},"21":{"loc":{"start":{"line":84,"column":6},"end":{"line":87,"column":7}},"type":"if","locations":[{"start":{"line":84,"column":6},"end":{"line":87,"column":7}},{"start":{"line":84,"column":6},"end":{"line":87,"column":7}}],"line":84},"22":{"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":76}},"type":"binary-expr","locations":[{"start":{"line":84,"column":10},"end":{"line":84,"column":11}},{"start":{"line":84,"column":15},"end":{"line":84,"column":27}},{"start":{"line":84,"column":31},"end":{"line":84,"column":76}}],"line":84},"23":{"loc":{"start":{"line":89,"column":6},"end":{"line":95,"column":7}},"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":95,"column":7}},{"start":{"line":89,"column":6},"end":{"line":95,"column":7}}],"line":89},"24":{"loc":{"start":{"line":89,"column":10},"end":{"line":89,"column":82}},"type":"binary-expr","locations":[{"start":{"line":89,"column":10},"end":{"line":89,"column":11}},{"start":{"line":89,"column":15},"end":{"line":89,"column":27}},{"start":{"line":89,"column":31},"end":{"line":89,"column":82}}],"line":89},"25":{"loc":{"start":{"line":91,"column":13},"end":{"line":95,"column":7}},"type":"if","locations":[{"start":{"line":91,"column":13},"end":{"line":95,"column":7}},{"start":{"line":91,"column":13},"end":{"line":95,"column":7}}],"line":91},"26":{"loc":{"start":{"line":93,"column":13},"end":{"line":95,"column":7}},"type":"if","locations":[{"start":{"line":93,"column":13},"end":{"line":95,"column":7}},{"start":{"line":93,"column":13},"end":{"line":95,"column":7}}],"line":93},"27":{"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":22}},"type":"binary-expr","locations":[{"start":{"line":110,"column":3},"end":{"line":110,"column":7}},{"start":{"line":110,"column":12},"end":{"line":110,"column":21}}],"line":110},"28":{"loc":{"start":{"line":118,"column":22},"end":{"line":118,"column":97}},"type":"cond-expr","locations":[{"start":{"line":118,"column":75},"end":{"line":118,"column":87}},{"start":{"line":118,"column":90},"end":{"line":118,"column":97}}],"line":118},"29":{"loc":{"start":{"line":118,"column":22},"end":{"line":118,"column":72}},"type":"binary-expr","locations":[{"start":{"line":118,"column":22},"end":{"line":118,"column":42}},{"start":{"line":118,"column":46},"end":{"line":118,"column":72}}],"line":118},"30":{"loc":{"start":{"line":223,"column":27},"end":{"line":223,"column":100}},"type":"cond-expr","locations":[{"start":{"line":223,"column":80},"end":{"line":223,"column":92}},{"start":{"line":223,"column":95},"end":{"line":223,"column":100}}],"line":223},"31":{"loc":{"start":{"line":223,"column":27},"end":{"line":223,"column":77}},"type":"binary-expr","locations":[{"start":{"line":223,"column":27},"end":{"line":223,"column":47}},{"start":{"line":223,"column":51},"end":{"line":223,"column":77}}],"line":223},"32":{"loc":{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},"type":"if","locations":[{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},{"start":{"line":225,"column":8},"end":{"line":227,"column":9}}],"line":225},"33":{"loc":{"start":{"line":230,"column":58},"end":{"line":230,"column":84}},"type":"cond-expr","locations":[{"start":{"line":230,"column":73},"end":{"line":230,"column":77}},{"start":{"line":230,"column":80},"end":{"line":230,"column":84}}],"line":230},"34":{"loc":{"start":{"line":256,"column":24},"end":{"line":256,"column":95}},"type":"cond-expr","locations":[{"start":{"line":256,"column":77},"end":{"line":256,"column":89}},{"start":{"line":256,"column":92},"end":{"line":256,"column":95}}],"line":256},"35":{"loc":{"start":{"line":256,"column":24},"end":{"line":256,"column":74}},"type":"binary-expr","locations":[{"start":{"line":256,"column":24},"end":{"line":256,"column":44}},{"start":{"line":256,"column":48},"end":{"line":256,"column":74}}],"line":256},"36":{"loc":{"start":{"line":266,"column":10},"end":{"line":268,"column":11}},"type":"if","locations":[{"start":{"line":266,"column":10},"end":{"line":268,"column":11}},{"start":{"line":266,"column":10},"end":{"line":268,"column":11}}],"line":266},"37":{"loc":{"start":{"line":270,"column":10},"end":{"line":272,"column":11}},"type":"if","locations":[{"start":{"line":270,"column":10},"end":{"line":272,"column":11}},{"start":{"line":270,"column":10},"end":{"line":272,"column":11}}],"line":270},"38":{"loc":{"start":{"line":280,"column":10},"end":{"line":289,"column":11}},"type":"if","locations":[{"start":{"line":280,"column":10},"end":{"line":289,"column":11}},{"start":{"line":280,"column":10},"end":{"line":289,"column":11}}],"line":280},"39":{"loc":{"start":{"line":280,"column":14},"end":{"line":280,"column":82}},"type":"binary-expr","locations":[{"start":{"line":280,"column":14},"end":{"line":280,"column":29}},{"start":{"line":280,"column":33},"end":{"line":280,"column":82}}],"line":280},"40":{"loc":{"start":{"line":295,"column":10},"end":{"line":295,"column":56}},"type":"if","locations":[{"start":{"line":295,"column":10},"end":{"line":295,"column":56}},{"start":{"line":295,"column":10},"end":{"line":295,"column":56}}],"line":295},"41":{"loc":{"start":{"line":315,"column":8},"end":{"line":317,"column":9}},"type":"if","locations":[{"start":{"line":315,"column":8},"end":{"line":317,"column":9}},{"start":{"line":315,"column":8},"end":{"line":317,"column":9}}],"line":315},"42":{"loc":{"start":{"line":319,"column":8},"end":{"line":321,"column":9}},"type":"if","locations":[{"start":{"line":319,"column":8},"end":{"line":321,"column":9}},{"start":{"line":319,"column":8},"end":{"line":321,"column":9}}],"line":319}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":0,"10":0,"11":1,"12":16,"13":0,"14":1,"15":0,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":2,"24":2,"25":1,"26":0,"27":0,"28":1,"29":1,"30":0,"31":1,"32":0,"33":1,"34":16,"35":15,"36":8,"37":0,"38":1,"39":1,"40":6,"41":6,"42":6,"43":6,"44":6,"45":6,"46":1,"47":1,"48":1,"49":0,"50":1,"51":16,"52":0,"53":16,"54":16,"55":71,"56":71,"57":68,"58":3,"59":3,"60":68,"61":32,"62":36,"63":7,"64":35,"65":35,"66":35,"67":35,"68":68,"69":3,"70":35,"71":1,"72":1,"73":1,"74":1,"75":2,"76":1,"77":16,"78":1,"79":16,"80":16,"81":1,"82":0,"83":1,"84":0,"85":1,"86":0,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":8,"99":8,"100":8,"101":8,"102":8,"103":8,"104":8,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":8,"125":8,"126":8,"127":8,"128":8,"129":8,"130":8,"131":8,"132":8,"133":8,"134":1,"135":1,"136":1,"137":1,"138":1,"139":0,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":4,"151":4,"152":4,"153":4,"154":5,"155":5,"156":5,"157":5,"158":4,"159":5,"160":4,"161":5,"162":5,"163":4,"164":3,"165":3,"166":3,"167":3,"168":3,"169":4,"170":4,"171":5,"172":4,"173":3,"174":0,"175":4,"176":1,"177":1,"178":4,"179":4,"180":4,"181":0,"182":4,"183":4,"184":4,"185":4,"186":4,"187":4,"188":3,"189":3,"190":3,"191":3,"192":4,"193":1,"194":1,"195":1},"f":{"0":1,"1":4,"2":0,"3":16,"4":0,"5":1,"6":16,"7":8,"8":1,"9":1,"10":16,"11":71,"12":7,"13":35,"14":35,"15":68,"16":3,"17":2,"18":1,"19":16,"20":1,"21":16,"22":1,"23":1,"24":8,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":8,"35":8,"36":8,"37":1,"38":1,"39":1,"40":1,"41":1,"42":4,"43":5,"44":5,"45":4,"46":1,"47":4,"48":4},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[16,1,0],"5":[0,1],"6":[1,0],"7":[1,1],"8":[2,2],"9":[0,1],"10":[1,1],"11":[0,1],"12":[15,1],"13":[0,8],"14":[6,6],"15":[6,0],"16":[1,0],"17":[0,1],"18":[0,16],"19":[32,36],"20":[2,2,2],"21":[0,1],"22":[1,1,1],"23":[0,1],"24":[1,1,1],"25":[0,1],"26":[1,0],"27":[1,1],"28":[0,8],"29":[8,0],"30":[0,1],"31":[1,0],"32":[0,1],"33":[0,1],"34":[4,0],"35":[4,4],"36":[4,1],"37":[4,1],"38":[3,1],"39":[4,4],"40":[3,1],"41":[4,0],"42":[0,4]},"inputSourceMap":{"version":3,"sources":["index.ts"],"names":["CLA","INS","GET_VERSION","GET_PUBLIC_KEY","DISPLAY_ACCOUNT","SIGN_TX","SIGN_MSG","ErrorCodes","ERR_STILL_IN_CALL","ERR_INVALID_DATA","ERR_INVALID_BIP_PATH","ERR_REJECTED_BY_USER","ERR_REJECTED_BY_POLICY","ERR_DEVICE_LOCKED","ERR_CLA_NOT_SUPPORTED","ERR_TX_PARSE_INVALID","ERR_TX_INVALID","ERR_TX_PARSE_SIZE","ERR_TX_UNSUPPORTED_TYPE","isErrorRange","e","rangeFrom","statusCode","errorRangeMessage","text","code","toString","wrapRetryStillInCall","fn","message","Mode","supportedTypes","Tx","Type","NORMAL","TRANSFER","GOVERNANCE","CALL","FEEDELEGATION","DEPLOY","REDEPLOY","LedgerAppAergo","transport","scrambleKey","methods","decorateAppAPIMethods","response","send","major","minor","path","data","pubkey","lastAddress","Address","displayAsHex","length","Error","hash","signature","encodeHash","chunkSize","TX_REQUEST_NEXT_PART","offset","chunkEnd","Math","min","dataChunk","slice","mode","Part","Begin","Finish","tx","indexOf","type","txGrpc","toGrpc","getBody","serialized","Buffer","from","serializeBinary","typeSerialized","Uint8Array","concat","sendChunkedTxData"],"mappings":"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","sourceRoot":"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src","sourcesContent":["import Transport from '@ledgerhq/hw-transport';\nimport { chunkBy, pathToBuffer } from './utils';\nimport { Address, } from '@herajs/common';\nimport { Tx } from '@herajs/client';\n\nimport { Buffer } from 'buffer';\n\nconst CLA = 0xAE;\n\nconst INS = {\n    GET_VERSION: 0x01,\n    GET_PUBLIC_KEY: 0x02,\n    DISPLAY_ACCOUNT: 0x03,\n    SIGN_TX: 0x04,\n    SIGN_MSG: 0x08,\n};\n\nexport const ErrorCodes = {\n    ERR_STILL_IN_CALL: 0x6e04,\n    ERR_INVALID_DATA: 0x6e07,\n    ERR_INVALID_BIP_PATH: 0x6e08,\n    ERR_REJECTED_BY_USER: 0x6e09,\n    ERR_REJECTED_BY_POLICY: 0x6e10,\n    ERR_DEVICE_LOCKED: 0x6e11,\n    ERR_CLA_NOT_SUPPORTED: 0x6e00,\n    ERR_TX_PARSE_INVALID: 0x6720,\n    ERR_TX_INVALID: 0x6740,\n    ERR_TX_PARSE_SIZE: 0x6700,\n    ERR_TX_UNSUPPORTED_TYPE: 0x6755,\n};\n\nfunction isErrorRange(e: any, rangeFrom: number): boolean {\n    return e && e.statusCode && (e.statusCode & rangeFrom) === rangeFrom;\n}\n\n/**\n * Error message for errors thrown during tx validation.\n * For troubleshooting these errors, find the corresponding validation code in the Ledger app's code\n * at https://github.com/aergoio/ledger-app-aergo/blob/develop/src/transaction.h\n */\nfunction errorRangeMessage(text: string, code: number, rangeFrom: number): string {\n    return `Ledger device: ${text} at pos ${code - rangeFrom} (0x${rangeFrom.toString(16)} + ${code - rangeFrom})`;\n}\n\nasync function wrapRetryStillInCall<T>(fn: (() => Promise<T>)): Promise<T> {\n    try {\n        return await fn();\n    } catch (e) {\n        if (e && e.statusCode && e.statusCode === ErrorCodes.ERR_STILL_IN_CALL) {\n            // Retry once\n            return await fn();\n        }\n        if (e && e.statusCode && e.statusCode === ErrorCodes.ERR_TX_UNSUPPORTED_TYPE) {\n            e.message = 'Ledger device: unsupported tx type';\n        } else if (isErrorRange(e, ErrorCodes.ERR_TX_PARSE_INVALID)) {\n            e.message = errorRangeMessage('failed to parse transaction data', e.statusCode, ErrorCodes.ERR_TX_PARSE_INVALID);\n        } else if (isErrorRange(e, ErrorCodes.ERR_TX_INVALID)) {\n            e.message = errorRangeMessage('transaction data invalid', e.statusCode, ErrorCodes.ERR_TX_INVALID);\n        }\n        throw e;\n    }\n}\n\ninterface GetVersionResponse {\n    major: number;\n    minor: number;\n}\n\ninterface SignTxResponse {\n    hash: string;\n    signature: string;\n}\n\nenum Mode {\n    Part = 0x00,\n    Begin = 0x01,\n    Finish = 0x02,\n    Single = 0x03,\n}\n\nconst supportedTypes = [\n    Tx.Type.NORMAL, Tx.Type.TRANSFER,\n    Tx.Type.GOVERNANCE, Tx.Type.CALL, Tx.Type.FEEDELEGATION,\n    Tx.Type.DEPLOY, Tx.Type.REDEPLOY\n] as const;\n\nexport default class LedgerAppAergo {\n    transport: Transport;\n    lastAddress?: Address;\n\n    constructor(transport: Transport, scrambleKey = 'AERGO') {\n        this.transport = transport;\n        const methods = [\n            'getVersion',\n            'getWalletPublicKey',\n            'signTransaction',\n        ];\n        this.transport.decorateAppAPIMethods(this, methods, scrambleKey);\n    }\n\n    /**\n     * Get version of Aergo Ledger app\n     */\n    async getVersion(): Promise<GetVersionResponse> {\n        const response = await wrapRetryStillInCall(() =>\n            this.transport.send(CLA, INS.GET_VERSION, 0x00, 0x00)\n        );\n        const [major, minor] = response;\n        return { major, minor };\n    }\n\n    /**\n     * Display currently selected account on device\n     */\n    async displayAccount(): Promise<void> {\n        await wrapRetryStillInCall(() =>\n            this.transport.send(CLA, INS.DISPLAY_ACCOUNT, 0x00, 0x00)\n        );\n        return;\n    }\n\n    /**\n     * Get an Aergo address from Ledger given a BIP44 path\n     * @param path BIP44 path, e.g. \"m/44'/441'/0'/0/0\"\n     */\n    async getWalletAddress(path: string): Promise<Address> {\n        const data = pathToBuffer(path);\n        const response = await wrapRetryStillInCall(() =>\n            this.transport.send(CLA, INS.GET_PUBLIC_KEY, 0x00, 0x00, data)\n        );\n        const [pubkey] = chunkBy(response, [33]);\n        this.lastAddress = new Address(pubkey);\n        return this.lastAddress;\n    }\n\n    /**\n     * Sign a raw message. Uses account from last getWalletAddress call.\n     */\n    async signMessage(data: Buffer, displayAsHex = false): Promise<SignTxResponse> {\n        if (data.length > 250) {\n            throw new Error('only messages upto 250 bytes are supported');\n        }\n        const response = await wrapRetryStillInCall(() =>\n            this.transport.send(CLA, INS.SIGN_MSG, displayAsHex ? 0x08 : 0x00, 0x00, data)\n        );\n        const [hash, signature] = chunkBy(response, [32, response.length - 32 - 2]);\n        return {\n            hash: Tx.encodeHash(hash),\n            signature: signature.toString('base64'),\n        };\n    }\n\n    private async sendChunkedTxData(data: Buffer, chunkSize = 250): Promise<[Buffer, Buffer]> {\n        const TX_REQUEST_NEXT_PART = '9000'; //0x9000\n        //const total = Math.ceil(data.length / chunkSize);\n        //let idx = 0;\n        for (let offset = 0; offset < data.length; offset += chunkSize) {\n            const chunkEnd = Math.min(data.length, offset + chunkSize);\n            const dataChunk = data.slice(offset, chunkEnd);\n            let mode = Mode.Part;\n            if (offset === 0) {\n                mode |= Mode.Begin;\n            }\n            if (chunkEnd === data.length) {\n                mode |= Mode.Finish;\n            }\n            // Mode.Single = Mode.Begin | Mode.Finish\n            //console.log(`chunk ${++idx}/${total} (${offset}-${chunkEnd}) request with mode`, Mode[mode], dataChunk);\n            const response = await wrapRetryStillInCall(() =>\n                this.transport.send(CLA, INS.SIGN_TX, mode, 0x00, dataChunk)\n            );\n            if (response.length && response.toString('hex') !== TX_REQUEST_NEXT_PART) {\n                const [hash, signature] = chunkBy(response, [32, response.length - 32 - 2]);\n                return [hash, signature];\n            }\n        }\n        throw new Error('communication error: sent all data but did not receive response');\n    }\n\n    /**\n     * Sign a transaction. Uses account from last getWalletAddress call.\n     */\n    async signTransaction(tx: any): Promise<SignTxResponse> {\n        if (!(tx instanceof Tx)) {\n            tx = new Tx(tx);\n        }\n        if (supportedTypes.indexOf(tx.type) === -1) {\n            throw new Error('Transaction type not supported by Aergo Ledger app');\n        }\n        const txGrpc = tx.toGrpc().getBody();\n        const serialized = Buffer.from(txGrpc.serializeBinary());\n        const typeSerialized = Buffer.from(Uint8Array.from([tx.type]));\n        const data = Buffer.concat([typeSerialized, serialized]);\n\n        const chunkSize = 250;\n        const [hash, signature] = await this.sendChunkedTxData(data, chunkSize);\n        \n        return {\n            hash: Tx.encodeHash(hash),\n            signature: signature.toString('base64'),\n        };\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d1e08ae1fe36741a1d8df34216be3742e92439c1","contentHash":"4a871f778a9d7a1fc2572893629a83dff357d19bb257eb5c6d49d78f2fd4b7ae"},"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src/utils.ts":{"path":"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src/utils.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"3":{"start":{"line":9,"column":35},"end":{"line":9,"column":115}},"4":{"start":{"line":11,"column":32},"end":{"line":11,"column":103}},"5":{"start":{"line":13,"column":34},"end":{"line":13,"column":160}},"6":{"start":{"line":13,"column":136},"end":{"line":13,"column":160}},"7":{"start":{"line":15,"column":35},"end":{"line":15,"column":164}},"8":{"start":{"line":15,"column":61},"end":{"line":15,"column":149}},"9":{"start":{"line":15,"column":74},"end":{"line":15,"column":75}},"10":{"start":{"line":15,"column":84},"end":{"line":15,"column":105}},"11":{"start":{"line":15,"column":130},"end":{"line":15,"column":147}},"12":{"start":{"line":15,"column":150},"end":{"line":15,"column":162}},"13":{"start":{"line":17,"column":15},"end":{"line":17,"column":25}},"14":{"start":{"line":20,"column":13},"end":{"line":20,"column":17}},"15":{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":25}},"17":{"start":{"line":26,"column":16},"end":{"line":37,"column":4}},"18":{"start":{"line":27,"column":16},"end":{"line":27,"column":41}},"19":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"20":{"start":{"line":30,"column":6},"end":{"line":30,"column":39}},"21":{"start":{"line":33,"column":17},"end":{"line":33,"column":35}},"22":{"start":{"line":34,"column":17},"end":{"line":34,"column":74}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":41}},"24":{"start":{"line":35,"column":16},"end":{"line":35,"column":41}},"25":{"start":{"line":36,"column":4},"end":{"line":36,"column":18}},"26":{"start":{"line":38,"column":13},"end":{"line":38,"column":45}},"27":{"start":{"line":40,"column":2},"end":{"line":42,"column":3}},"28":{"start":{"line":40,"column":15},"end":{"line":40,"column":16}},"29":{"start":{"line":41,"column":4},"end":{"line":41,"column":42}},"30":{"start":{"line":44,"column":2},"end":{"line":44,"column":14}},"31":{"start":{"line":47,"column":10},"end":{"line":51,"column":1}},"32":{"start":{"line":48,"column":2},"end":{"line":50,"column":8}},"33":{"start":{"line":49,"column":4},"end":{"line":49,"column":17}},"34":{"start":{"line":54,"column":15},"end":{"line":54,"column":16}},"35":{"start":{"line":55,"column":15},"end":{"line":55,"column":17}},"36":{"start":{"line":56,"column":19},"end":{"line":56,"column":50}},"37":{"start":{"line":58,"column":2},"end":{"line":62,"column":3}},"38":{"start":{"line":58,"column":16},"end":{"line":58,"column":17}},"39":{"start":{"line":58,"column":26},"end":{"line":58,"column":83}},"40":{"start":{"line":59,"column":12},"end":{"line":59,"column":20}},"41":{"start":{"line":60,"column":4},"end":{"line":60,"column":48}},"42":{"start":{"line":61,"column":4},"end":{"line":61,"column":16}},"43":{"start":{"line":64,"column":2},"end":{"line":64,"column":16}}},"fnMap":{"0":{"name":"_toConsumableArray","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":27}},"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":117}},"line":9},"1":{"name":"_nonIterableSpread","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":30},"end":{"line":11,"column":105}},"line":11},"2":{"name":"_iterableToArray","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":25}},"loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":162}},"line":13},"3":{"name":"_arrayWithoutHoles","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":27}},"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":166}},"line":15},"4":{"name":"pathToBuffer","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":28},"end":{"line":45,"column":1}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":36},"end":{"line":26,"column":37}},"loc":{"start":{"line":26,"column":51},"end":{"line":37,"column":3}},"line":26},"6":{"name":"sum","decl":{"start":{"line":47,"column":19},"end":{"line":47,"column":22}},"loc":{"start":{"line":47,"column":28},"end":{"line":51,"column":1}},"line":47},"7":{"name":"(anonymous_7)","decl":{"start":{"line":48,"column":20},"end":{"line":48,"column":21}},"loc":{"start":{"line":48,"column":36},"end":{"line":50,"column":3}},"line":48},"8":{"name":"chunkBy","decl":{"start":{"line":53,"column":9},"end":{"line":53,"column":16}},"loc":{"start":{"line":53,"column":37},"end":{"line":65,"column":1}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":42},"end":{"line":9,"column":114}},"type":"binary-expr","locations":[{"start":{"line":9,"column":42},"end":{"line":9,"column":65}},{"start":{"line":9,"column":69},"end":{"line":9,"column":90}},{"start":{"line":9,"column":94},"end":{"line":9,"column":114}}],"line":9},"1":{"loc":{"start":{"line":13,"column":34},"end":{"line":13,"column":160}},"type":"if","locations":[{"start":{"line":13,"column":34},"end":{"line":13,"column":160}},{"start":{"line":13,"column":34},"end":{"line":13,"column":160}}],"line":13},"2":{"loc":{"start":{"line":13,"column":38},"end":{"line":13,"column":134}},"type":"binary-expr","locations":[{"start":{"line":13,"column":38},"end":{"line":13,"column":69}},{"start":{"line":13,"column":73},"end":{"line":13,"column":134}}],"line":13},"3":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":164}},"type":"if","locations":[{"start":{"line":15,"column":35},"end":{"line":15,"column":164}},{"start":{"line":15,"column":35},"end":{"line":15,"column":164}}],"line":15},"4":{"loc":{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},{"start":{"line":22,"column":2},"end":{"line":24,"column":3}}],"line":22},"5":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29},"6":{"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":74}},"type":"binary-expr","locations":[{"start":{"line":34,"column":17},"end":{"line":34,"column":33}},{"start":{"line":34,"column":37},"end":{"line":34,"column":53}},{"start":{"line":34,"column":57},"end":{"line":34,"column":74}}],"line":34},"7":{"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":41}},"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":41}},{"start":{"line":35,"column":4},"end":{"line":35,"column":41}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":12,"4":0,"5":0,"6":0,"7":12,"8":12,"9":12,"10":12,"11":16,"12":12,"13":1,"14":8,"15":8,"16":8,"17":8,"18":40,"19":40,"20":0,"21":40,"22":40,"23":40,"24":24,"25":16,"26":8,"27":8,"28":8,"29":40,"30":8,"31":1,"32":12,"33":16,"34":12,"35":12,"36":12,"37":12,"38":12,"39":12,"40":28,"41":28,"42":28,"43":12},"f":{"0":12,"1":0,"2":0,"3":12,"4":8,"5":40,"6":12,"7":16,"8":12},"b":{"0":[12,0,0],"1":[0,0],"2":[0,0],"3":[12,0],"4":[8,0],"5":[0,40],"6":[40,40,40],"7":[24,16]},"inputSourceMap":{"version":3,"sources":["utils.ts"],"names":["HARDENED","pathToBuffer","path","text","test","slice","numbers","split","map","str","parts","exec","Error","number","parseInt","harden","data","Buffer","alloc","length","i","writeUInt32BE","sum","arr","reduce","x","y","chunkBy","chunkLengths","offset","result","restLength","c","push"],"mappings":";;;;;;;;;;;;;;;;AACA,IAAMA,QAAQ,GAAG,UAAjB;;AAEO,SAASC,YAAT,CAAsBC,IAAtB,EAA4C;AAC/C,MAAIC,IAAI,GAAGD,IAAX;;AACA,MAAI,QAAQE,IAAR,CAAaD,IAAb,CAAJ,EAAwB;AACpBA,IAAAA,IAAI,GAAGA,IAAI,CAACE,KAAL,CAAW,CAAX,CAAP;AACH;;AAED,MAAMC,OAAiB,GAAGH,IAAI,CAACI,KAAL,CAAW,GAAX,EAAgBC,GAAhB,CAAoB,UAACC,GAAD,EAAiB;AAC3D,QAAMC,KAAK,GAAG,gBAAgBC,IAAhB,CAAqBF,GAArB,CAAd;;AACA,QAAI,CAACC,KAAL,EAAY;AACR,YAAM,IAAIE,KAAJ,CAAU,eAAV,CAAN;AACH;;AACD,QAAMC,MAAM,GAAGC,QAAQ,CAACJ,KAAK,CAAC,CAAD,CAAN,CAAvB;AACA,QAAMK,MAAM,GAAGL,KAAK,CAAC,CAAD,CAAL,KAAa,GAAb,IAAoBA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjC,IAAwCA,KAAK,CAAC,CAAD,CAAL,KAAa,IAApE;AACA,QAAIK,MAAJ,EAAY,OAAOF,MAAM,GAAGb,QAAhB;AACZ,WAAOa,MAAP;AACH,GATyB,CAA1B;AAWA,MAAMG,IAAI,GAAGC,MAAM,CAACC,KAAP,CAAa,IAAIZ,OAAO,CAACa,MAAzB,CAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,OAAO,CAACa,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;AACrCJ,IAAAA,IAAI,CAACK,aAAL,CAAmBf,OAAO,CAACc,CAAD,CAA1B,EAA+BA,CAAC,GAAG,CAAnC;AACH;;AACD,SAAOJ,IAAP;AACH;;AAED,IAAMM,GAAG,GAAG,SAANA,GAAM,CAACC,GAAD;AAAA,SAA2BA,GAAG,CAACC,MAAJ,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,GAAGC,CAAd;AAAA,GAAX,EAA4B,CAA5B,CAA3B;AAAA,CAAZ;;AAEO,SAASC,OAAT,CAAiBX,IAAjB,EAA+BY,YAA/B,EAAiE;AACpE,MAAIC,MAAM,GAAG,CAAb;AACA,MAAMC,MAAM,GAAG,EAAf;AACA,MAAMC,UAAU,GAAGf,IAAI,CAACG,MAAL,GAAcG,GAAG,CAACM,YAAD,CAApC;;AACA,uDAAoBA,YAApB,IAAkCG,UAAlC,4BAA+C;AAA1C,QAAMC,CAAC,WAAP;AACDF,IAAAA,MAAM,CAACG,IAAP,CAAYjB,IAAI,CAACX,KAAL,CAAWwB,MAAX,EAAmBA,MAAM,GAAGG,CAA5B,CAAZ;AACAH,IAAAA,MAAM,IAAIG,CAAV;AACH;;AACD,SAAOF,MAAP;AACH","sourceRoot":"/Users/paulgrau/projects/aergo/herajs/packages/ledger-hw-app-aergo/src","sourcesContent":["\nconst HARDENED = 0x80000000;\n  \nexport function pathToBuffer(path: string): Buffer {\n    let text = path;\n    if (/^m\\//i.test(text)) {\n        text = text.slice(2);\n    }\n    \n    const numbers: number[] = text.split('/').map((str: string) => {\n        const parts = /(\\d+)([hH']?)/.exec(str);\n        if (!parts) {\n            throw new Error('invalid input');\n        }\n        const number = parseInt(parts[1]);\n        const harden = parts[2] === 'h' || parts[2] === 'H' || parts[2] === '\\'';\n        if (harden) return number + HARDENED;\n        return number;\n    });\n\n    const data = Buffer.alloc(4 * numbers.length);\n    for (let i = 0; i < numbers.length; i++) {\n        data.writeUInt32BE(numbers[i], i * 4);\n    }\n    return data;\n}\n\nconst sum = (arr: number[]): number => arr.reduce((x, y) => x + y, 0);\n\nexport function chunkBy(data: Buffer, chunkLengths: number[]): Buffer[] {\n    let offset = 0;\n    const result = [];\n    const restLength = data.length - sum(chunkLengths);\n    for (const c of [...chunkLengths, restLength]) {\n        result.push(data.slice(offset, offset + c));\n        offset += c;\n    }\n    return result;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3cf651e9d4e9207f7a304da8210d8852f17b003e","contentHash":"96b789fd21a785b21ac07496eeec602059d3967fb0b9a6b226427639174003f7"}}